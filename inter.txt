python tools/analysis_tools/browse_dataset.py configs/VisDrone.py \
                                              --show-interval 3

tensorboard --logdir /mnt/data_hdd/fzhi/track_data/VisDrone/image_detection/output/train/ --port 6006

yolo

dataset transfer
python tools/dataset_converters/bisdrone2coco.py --img-dir ./data/cat/images \
                                                --labels-dir ./data/cat/labels \
                                                --out ./data/cat/annotations/annotations_all.json

python tools/analysis_tools/browse_coco_json.py --img-dir /mnt/data_hdd/fzhi/track_data/VisDrone/image_detection/train/images \
                                                --ann-file /mnt/data_hdd/fzhi/track_data/VisDrone/image_detection/train/coco_label/train.json

python tools/analysis_tools/browse_dataset.py configs/visdrone.py \
                                              --show-interval 3
train
      python tools/train.py configs/visdrone.py
test:

python tools/test.py configs/visdrone.py \
                    /mnt/data_hdd/fzhi/track_data/VisDrone/image_detection/output/train/epoch_92.pth \
                     --show-dir /mnt/data_hdd/fzhi/track_data/VisDrone/image_detection/output/test

========================================================================================
mmdetection
train：

cd /home/fzhi/fzt/intern_pipline/detect/mmdetection

# 激活环境
conda activate openmmlab

# 训练
python tools/train.py configs/visdrone/faster-rcnn_r50_fpn_1x_visdrone.py

# 指定工作目录（可选）
python tools/train.py configs/visdrone/faster-rcnn_r50_fpn_1x_visdrone.py --work-dir work_dirs/visdrone_faster_rcnn

test
cd /home/fzhi/fzt/intern_pipline/detect/mmdetection
conda activate openmmlab

# 单卡测试（把 CHECKPOINT_PATH 换成实际权重路径）
python tools/test.py configs/visdrone/faster-rcnn_r50_fpn_1x_visdrone.py CHECKPOINT_PATH

# 示例：用当前目录下的最新权重
python tools/test.py configs/visdrone/faster-rcnn_r50_fpn_1x_visdrone.py work_dirs/visdrone_faster_rcnn/epoch_100.pth


# 测试并保存预测结果（可选）
python tools/test.py configs/visdrone/faster-rcnn_r50_fpn_1x_visdrone.py CHECKPOINT_PATH --out results.pkl


